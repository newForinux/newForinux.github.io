---
layout: post
title: 8. ì±„ì  ê²°ê³¼ ì¶œë ¥í•˜ê¸°
tag: [í”„ë¡ íŠ¸ì—”ë“œ ì‚½ì§ˆ ì—¬í–‰]
image: 
  path: /assets/img/blog/grading.gif
description: >
  ì±„ì ì´ ëë‚¬ë‹¤ë©´, ì–´ë–»ê²Œ ë³´ì—¬ì¤„ê¹Œ?
sitemap: false
---

<br>

ì´ì œ ë°±ì—”ë“œì—ì„œ ì±„ì  ì—”ì§„ì„ ì‹¤í–‰í•˜ê³ , ê²°ê³¼ë¥¼ ë°›ì•„ ë³´ì—¬ì£¼ì!

<br>

## ì±„ì  ê¸°ì¤€ì€ ì˜ ì €ì¥ëœë‹¤

![Policy Detail](/assets/img/blog/policy_detail.png){:.border.lead width="613" height="482" loading="lazy"}

<br>

ë°ì´í„°ë² ì´ìŠ¤ë¡œ NoSQLì¸ MongoDBë¥¼ ì‚¬ìš©í–ˆëŠ”ë°, í”„ë¡ íŠ¸ì—”ë“œ ì¸¡ì—ì„œ ì±„ì  ê²°ê³¼ë¥¼ ì„¤ì •í•˜ê³  ë°±ì—”ë“œë¡œ ë³´ë‚´ë©´,

ë°±ì—”ë“œëŠ” ì±„ì  ê¸°ì¤€ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ê³ , ì±„ì  ì‹œ í† í°ì„ ê²€ìƒ‰í•´ ê¸°ì¤€ì„ ì—”ì§„ì— ì „ë‹¬í•œë‹¤.

<br>

ì—”ì§„ì€ ASTë¥¼ ì‚¬ìš©í•œ ì •ì  ë¶„ì„ ë° ê¸°ì¤€ì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ëŒë ¤ ë³´ê³ , ê°ì  ìš”ì†Œë¥¼ ì²´í¬í•˜ì—¬ ë‹¤ì‹œ ë°±ì—”ë“œë¡œ ë³´ë‚¸ë‹¤.

ë°±ì—”ë“œëŠ” ì±„ì  ê²°ê³¼ë¥¼ ë‹¤ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ê³  <strong>í•„ìš”í•œ ì •ë³´ë§Œ</strong> í”„ë¡ íŠ¸ì—”ë“œì—ê²Œ ë„˜ê²¨ì¤€ë‹¤.

<br>

ì´ ë•Œ <strong>í•„ìš”í•œ ì •ë³´</strong>ë€, í”¼ë“œë°± ì œê³µ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ë³´ì—¬ì¤„ ì •ë³´ (í•™ìƒì´ ì…ë ¥í•œ í•™ë²ˆ, í´ë˜ìŠ¤ ì´ë¦„ ë“±)ì™€,

í”¼ë“œë°± ì œê³µ ì—¬ë¶€ì™€ ì—°ê´€ëœ ì±„ì  ì •ë³´ë“¤ (ê°ì  ì ìˆ˜, íšë“ ì ìˆ˜ ë“±)ì„ ë§í•œë‹¤.

<br><br>

## ë°›ì€ ì •ë³´ ë¶„í•´í•˜ê¸°

[ì´ì „ íŒŒíŠ¸](https://newforinux.github.io/post/2021-04-29-react-ts-7/)ì—ì„œ Routeë¥¼ ì´ìš©í•´ `detail`ì´ë€ ì´ë¦„ìœ¼ë¡œ ì±„ì  ê²°ê³¼ë¥¼ ë„˜ê²¨ì£¼ì—ˆë‹¤.

<br>

~~~js
// file: 'ResultProcess.js'

...

function ResultProcess (props) {
    const classesStyle = useStyles();
    const classesLayout = useStylesLayout();

    if (props.location.state === undefined) {
        props.history.push('/error');
        return null;
    } 
    
    else {
    const results = props.location.state.detail;

    const existsInPolicy = {
        feedback: results.isDirect === 'true' ? true : false,
        count: results.count !== undefined ? (results.count.deductedPoint === 0 ? true : false) : undefined,
        compiled: results.compile !== undefined ? (results.compile.deductedPoint === 0 ? true : false) : undefined,
        inputs: results.runtimeCompare !== undefined ? (results.runtimeCompare.deductedPoint === 0 ? true : false) : undefined,
        classes: results.classes !== undefined ? (results.classes.deductedPoint === 0 ? true : false) : undefined,
        packages: results.packages !== undefined ? (results.packages.deductedPoint === 0 ? true : false) : undefined,
        custexc: results.customException !== undefined ? (results.customException.deductedPoint === 0 ? true : false) : undefined,
        custstr: results.customStructure !== undefined ? (results.customStructure.deductedPoint === 0 ? true : false) : undefined,
        interfaces: results.inheritInterface !== undefined ? (results.inheritInterface.deductedPoint === 0 ? true : false) : undefined,
        superclass: results.inheritSuper !== undefined ? (results.inheritSuper.deductedPoint === 0 ? true : false) : undefined,
        overriding: results.overriding !== undefined ? (results.overriding.deductedPoint === 0 ? true : false) : undefined,
        overloading: results.overloading !== undefined ? (results.overloading.deductedPoint === 0 ? true : false) : undefined,
        thread: results.thread !== undefined ? (results.thread.deductedPoint === 0 ? true : false) : undefined,
        javadoc: results.javadoc !== undefined ? (results.javadoc.deductedPoint === 0 ? true : false) : undefined,
        encapsulation: results.encapsulation !== undefined ? (results.encapsulation.deductedPoint === 0 ? true : false) : undefined,
    };
    
    ...
    
~~~

<br>

ë°±ì—”ë“œì—ì„œ ë³´ë‚´ì£¼ëŠ” detailì„ ëœ¯ì–´ë´¤ë”ë‹ˆ, ì±„ì  ê¸°ì¤€ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” ê²ƒì€ `null`ë¡œ ì²˜ë¦¬ë˜ì–´ ìˆì—ˆë‹¤.

ì´ë¥¼ TSë¡œ ì²˜ë¦¬í•˜ë ¤ê³  í•˜ë‹¤ê°€ ê³„ì† ì˜¤ë¥˜ê°€ ë‚˜ì„œ, JSë¡œ ëŒë ¸ë‹¤.ğŸ˜¢

Routeë¥¼ í†µí•´ `detail`ì´ë€ ì´ë¦„ìœ¼ë¡œ ë°›ì€ ê°ì²´ë¥¼ `results`ë¡œ ì €ì¥í•˜ê³ ,

Routeë¥¼ í†µí•´ ë°›ì•„ì˜¬ ê°ì²´ê°€ ì—†ë‹¤ë©´ ë­”ê°€ ì—ëŸ¬ê°€ ìˆìœ¼ë¯€ë¡œ `error` í˜ì´ì§€ë¡œ ì´ë™ì‹œí‚¨ ë‹¤ìŒ, `null`ì„ ë¦¬í„´í•´ ì´í›„ ë Œë”ë§ì„ ë§‰ëŠ”ë‹¤.

<br>

ì´ `results` ê°ì²´ë¥¼ ëœ¯ì–´ë³´ë©´ì„œ `undefined`ì¸ì§€, ê°ì  ì ìˆ˜ê°€ 0ì ì¸ì§€ ì²´í¬í–ˆë‹¤.

(ê°ì ì´ 0ì  ì´ˆê³¼ë©´ í‹€ë¦° ì‚¬í•­ì´ë¯€ë¡œ, í•™ìƒë“¤ì—ê²Œ ê°„ë‹¨í•œ í”¼ë“œë°±ì„ ì ì–´ì£¼ê¸° ìœ„í•´ì„œë‹¤)


<br>

~~~js
// file: 'ResultProcess.js'

  ...

  return (
        <>
            <AppBar position="fixed" style={{ background: 'transparent', boxShadow: 'none' }} >
                <Toolbar className={classesStyle.toolbar}> 
                    <Link
                        variant="h3"
                        underline="none"
                        color="inherit"
                        className={classesStyle.title}
                        href="/"
                    >
                        <img src="/assets/logo.png" alt="logo" className={classesStyle.logo} />
                    </Link>
                </Toolbar>
            </AppBar>
            <SectionLayout backgroundClassName={classesStyle.background} classes={classesLayout}>
                {}
                <img style={{ display : 'none' }} src={backgroundImage} alt="prioirty" />
                <Typographic color="inherit" align="center" variant="h2" marked="center" className={classesStyle.h2}>
                    { results.studentNum } _ ì±„ì  ì™„ë£Œ!
                </Typographic>

                {existsInPolicy.feedback &&
                    <Typographic color="inherit" align="center" variant="h3" >
                        {existsInPolicy.feedback}
                        { results.result } / { results.point }
                    </Typographic>
                }
                
                {existsInPolicy.feedback && existsInPolicy.count === false &&
                    <Typographic color="inherit" align="left" variant="subtitle1" className={classesStyle.h6}>
                        <PlaylistAddCheckRoundedIcon color="error" /> &nbsp;
                        (-{results.count!.deductedPoint}) ì§€ì •ëœ í•„ë“œ, ë©”ì„œë“œ ê°œìˆ˜ ë˜ëŠ” (í•„ìš”í•˜ë‹¤ë©´) enhanced forë¬¸ì´ ë¶€ì¡±í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
                    </Typographic>
                }
                
                ...
                
~~~

<br>

`existsInPolicy` ê°ì²´ì—ì„œ `feedback` ì—¬ë¶€ì™€ ê°ê° ì±„ì  ìš”ì†Œë¥¼ ì¡°í•©í•´ `Typography` ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°ê±´ë¶€ ë Œë”ë§í•œë‹¤.

ë§Œì•½ `feedback`ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆê±°ë‚˜, í‹€ë¦° ê²Œ ì—†ì–´ ê°ì ì´ 0ì ì´ë¼ë©´ í”¼ë“œë°±ì´ ì¶œë ¥ë˜ì§€ ì•ŠëŠ”ë‹¤

í”¼ë“œë°± ìƒë‹¨ì—ëŠ” í•™ìƒì´ ì–»ì€ ì ìˆ˜ / ì´ì  í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•´, ìì‹ ì˜ ì ìˆ˜ë¥¼ ë°”ë¡œ ì•Œ ìˆ˜ ìˆê²Œ í–ˆë‹¤. (í”¼ë“œë°± ë¹„í™œì„±í™” ì‹œ ì ìˆ˜ë„ ì•Œ ìˆ˜ ì—†ë‹¤!)

<br>

## ğŸ”¥ Typescriptë¡œ ë‹¤ì‹œ ì‘ì„±!

ì°œì°œí•´ì„œ TSë¡œ ì–´ë–»ê²Œ ë°”ê¿€ì§€ ê³„ì† ê³ ë¯¼í–ˆëŠ”ë°, ì²« ë²ˆì§¸ ì‹œë„ì—ì„œ ë°”ë¡œ í’€ë ¸ë‹¤!

ë¨¼ì € Routeë¡œ ë„˜ê²¨ì˜¤ëŠ” ì±„ì  ê²°ê³¼ë¥¼ `detail`ë¡œ í•œ ë²ˆ ë” ê°ì‹¸ì§€ ì•Šê³ , ê·¸ëƒ¥ ë°›ëŠ”ë‹¤.

<br>

~~~tsx
// file: 'SectionClass.tsx'

    ...
    
    const handleCreate = (status: boolean, grading: Object) => {
        if (!status)
            props.history.push('/error');

        else
            props.history.push({
                pathname: `${props.match.url}/success`,
                state: grading, // detailì„ ì—†ì• ê³  ë„˜ê²¨ì¤€ë‹¤!
            });
    }
    
    ...
~~~

<br>

ë‹¤ìŒìœ¼ë¡œ, ë°›ì•„ì˜¨ ê°ì²´ë¥¼ ìœ„í•´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„ ì–¸í•œë‹¤.

<br>

~~~ts
// file: 'index.d.ts'

...

export interface GradingResultProps {
    isDirect: string,
    studentNum: string,
    result: number,
    point: number,
    count: {
        deductedPoint: number,
    } | undefined,
    compile: {
        deductedPoint: number,
    } | undefined,
    runtimeCompare: {
        deductedPoint: number,
    } | undefined,
    classes: {
        deductedPoint: number,
    } | undefined,
    packages: {
        deductedPoint: number,
    } | undefined,
    customException: {
        deductedPoint: number,
    } | undefined,
    customStructure: {
        deductedPoint: number,
    } | undefined,
    
    ...
}
    
~~~

<br>

ì±„ì  ê¸°ì¤€ì´ ì—†ì„ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ, `undefined`ì¼ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì„ ëª…ì‹œí–ˆë‹¤.

ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ Routeë¡œ ë°›ì•„ì˜¨ ê°ì²´ì˜ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•œë‹¤.

<br>

~~~tsx
// file: 'ResultProcess.tsx'

...

function ResultProcess (props : RouteComponentProps<RouteParamsProps>) {
    const classesStyle = useStyles();
    const classesLayout = useStylesLayout();

    if (props.location.state === undefined) {
        props.history.push('/error');
        return null;
    } 
    
    else {
    
    const results = props.location.state as GradingResultProps;   // detailì„ ë¹¼ê³ , ì¸í„°í˜ì´ìŠ¤ë¥¼ íƒ€ì…ìœ¼ë¡œ ì¤€ë‹¤!
    
    ...
    
~~~

<br>

ê·¸ë˜ë„ ESLintê°€ `ê°ì²´ê°€ undefinedì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.`ë¼ê³  ê²½ê³ í•˜ëŠ”ë°, `results` ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì— `! (Nullable)`ì„ ë¶™ì¸ë‹¤.

<br>

~~~tsx
// file: 'ResultProcess.tsx'

...

return (
        <>
           ...
                
                {existsInPolicy.feedback && existsInPolicy.count === false &&
                    <Typographic color="inherit" align="left" variant="subtitle1" className={classesStyle.h6}>
                        <PlaylistAddCheckRoundedIcon color="error" /> &nbsp;
                        (-{results.count!.deductedPoint}) ì§€ì •ëœ í•„ë“œ, ë©”ì„œë“œ ê°œìˆ˜ ë˜ëŠ” (í•„ìš”í•˜ë‹¤ë©´) enhanced forë¬¸ì´ ë¶€ì¡±í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
                    </Typographic>
                }


                {existsInPolicy.feedback && existsInPolicy.classes === false &&
                    <Typographic color="inherit" align="left" variant="subtitle1" className={classesStyle.h6}>
                        <PlaylistAddCheckRoundedIcon color="error" /> &nbsp;
                        (-{results.classes!.deductedPoint}) í´ë˜ìŠ¤ : ì§€ì •ëœ í´ë˜ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.
                    </Typographic>
                }
                
                ...
    
~~~

`results`ì˜ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” ê³³ì— `Nullable`ì„ ë¶™ì—¬ì£¼ë©´, ê°ì²´ì˜ `Null`ê³¼ `undefined`ë¥¼ í—ˆìš©í•˜ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ì‚¬ë¼ì§„ë‹¤.

ê°ì²´ê°€ `Null`ì´ê±°ë‚˜ `undefined`ì¼ ë•Œ ë Œë”ë§í•˜ì§€ ì•ŠëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë¥¼ í•´ì¤¬ê¸° ë•Œë¬¸ì— í—ˆìš©í•´ë„ ê´œì°®ì„ ê²ƒ ê°™ë‹¤.

<br>

![Grading Result](/assets/img/blog/grade_complete.png){:.border.lead width="500" height="360" loading="lazy"}

<br>

ë¬¸ì œ ì—†ì´ ì˜ ë™ì‘í•œë‹¤ğŸ‘

<br><br>

## ğŸ”¥ TroubleShooting & Review

#### Issue:
- JSë¡œ ëŒë¦° ë˜ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ë  ë»” í–ˆìœ¼ë‚˜...!
- ë§Œì•½ `detail`ì„ ë¹¼ì§€ ì•Šì•˜ë‹¤ë©´, ì–´ë–»ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ê¹Œ? `props.location.state.detail`ì€ ë¨¹íˆì§€ ì•ŠëŠ”ë‹¤.

#### Review
- í”¼ë“œë°± ì œê³µ ë°©ì‹ì„ ì„¸ë¶„í™”í–ˆìœ¼ë©´ ì¢‹ê² ë‹¤ëŠ” í”¼ë“œë°±ì´ ìˆì—ˆë‹¤. í˜„ì¬ í”¼ë“œë°± ì œê³µ ë²„íŠ¼ì„ ëˆ„ë¥´ì§€ ì•Šìœ¼ë©´ ì±„ì  ì™„ë£Œ~ë§Œ ë³´ì—¬ì£¼ëŠ”ë°,
ì´ë¥¼ ì±„ì  ì™„ë£Œë§Œ, ì±„ì  ì™„ë£Œ + ì ìˆ˜, ì±„ì  ì™„ë£Œ + ì ìˆ˜ + í”¼ë“œë°± ë‹¨ê³„ë¡œ ì¼ë‹¨ ë‚˜ëˆ ë³´ëŠ” ê²Œ ì–´ë–»ëƒëŠ” ê²ƒ. ë°±ì—”ë“œì— ë„˜ê²¨ì£¼ëŠ” `level`ë§Œ ì¶”ê°€í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.

<br>
